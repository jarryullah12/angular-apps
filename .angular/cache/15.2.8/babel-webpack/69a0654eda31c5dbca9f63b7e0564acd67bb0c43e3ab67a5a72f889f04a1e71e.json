{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nfunction CartPageComponent_ng_container_0_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_tr_20_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.deleteitem(item_r4));\n    });\n    i0.ɵɵtext(11, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r4.images[0], i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", item_r4.price, \"\");\n  }\n}\nfunction CartPageComponent_ng_container_0_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"form\", 28)(2, \"div\", 29)(3, \"label\", 30);\n    i0.ɵɵtext(4, \"Email address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"input\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 29)(7, \"label\", 32);\n    i0.ɵɵtext(8, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 29)(11, \"label\", 32);\n    i0.ɵɵtext(12, \"Mobile Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"input\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 29)(15, \"label\", 35);\n    i0.ɵɵtext(16, \"Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"textarea\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_div_38_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.onsubmit());\n    });\n    i0.ɵɵtext(19, \"Order\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\u00A0 \");\n    i0.ɵɵelementStart(21, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_div_38_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.cancel());\n    });\n    i0.ɵɵtext(22, \"Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r3.myform);\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"disabled\", ctx_r3.myform.invalid);\n  }\n}\nfunction CartPageComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 11)(2, \"div\", 12)(3, \"div\", 13)(4, \"h3\");\n    i0.ɵɵtext(5, \"Cart Items\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"table\", 14)(7, \"thead\", 15)(8, \"tr\")(9, \"th\", 16);\n    i0.ɵɵtext(10, \"Image \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\", 16);\n    i0.ɵɵtext(12, \"Brand\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\", 16);\n    i0.ɵɵtext(14, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\", 16);\n    i0.ɵɵtext(16, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\", 16);\n    i0.ɵɵtext(18, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"tbody\");\n    i0.ɵɵtemplate(20, CartPageComponent_ng_container_0_tr_20_Template, 12, 4, \"tr\", 17);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 18)(22, \"h1\");\n    i0.ɵɵtext(23, \"Total Amount:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵelementStart(25, \"strong\", 19);\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"br\");\n    i0.ɵɵelementStart(29, \"strong\", 20);\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"div\", 21)(33, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_Template_button_click_33_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.addressform = true);\n    });\n    i0.ɵɵtext(34, \"Checkout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\u00A0 \");\n    i0.ɵɵelementStart(36, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_Template_button_click_36_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.Empty());\n    });\n    i0.ɵɵtext(37, \"Empty cart\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(38, CartPageComponent_ng_container_0_div_38_Template, 23, 2, \"div\", 24);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.showproduct);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate2(\"$\", ctx_r0.totalamount, \" + $\", i0.ɵɵpipeBind2(27, 5, ctx_r0.taxamount, \"1.0-0\"), \"(Tax)\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Total = $\", i0.ɵɵpipeBind2(31, 8, ctx_r0.finalamount, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.addressform);\n  }\n}\nfunction CartPageComponent_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 39)(2, \"div\", 40);\n    i0.ɵɵelement(3, \"img\", 41);\n    i0.ɵɵelementStart(4, \"h4\");\n    i0.ɵɵtext(5, \"Your Cart is Empty\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h6\");\n    i0.ɵɵtext(7, \"Please Add Item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 42);\n    i0.ɵɵtext(9, \"Shop Now \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nexport class CartPageComponent {\n  constructor(api) {\n    this.api = api;\n    this.showproduct = [];\n    this.totalamount = 0;\n    this.taxamount = 0;\n    this.finalamount = 0;\n    this.addressform = false;\n    this.sentamount = 0;\n  }\n  ngOnInit() {\n    this.api.products().subscribe(res => {\n      this.showproduct = res;\n      this.totalamount = this.api.calculateprice();\n      console.log(\"total amt is\", this.totalamount);\n      // calculation with tax 15 percent\n      this.taxamount = this.totalamount / 100 * 15;\n      console.log(this.taxamount, \"is tax amount\");\n      this.finalamount = this.taxamount + this.totalamount;\n      //Sending final amount to order component \n      this.sentamount = this.finalamount;\n      this.api.sendfinalamount(this.sentamount);\n    });\n    //form\n    this.myform = new FormGroup({\n      email: new FormControl('', Validators.required),\n      name: new FormControl('', Validators.required),\n      mobile: new FormControl('', Validators.required),\n      address: new FormControl('', Validators.required)\n    });\n  }\n  deleteitem(item) {\n    this.api.removecartitem(item);\n  }\n  Empty() {\n    this.api.removeallitems();\n  }\n  cancel() {\n    this.addressform = false;\n    this.myform.reset();\n    localStorage.removeItem('ecomdata');\n  }\n  onsubmit() {\n    this.myform.value;\n    console.log(this.myform.value);\n    localStorage.setItem('ecomdata', JSON.stringify(this.myform.value.name));\n    //this.myform.reset();\n  }\n\n  onlinepay() {\n    localStorage.setItem('ecomdata', JSON.stringify(this.myform.value.name));\n  }\n}\nCartPageComponent.ɵfac = function CartPageComponent_Factory(t) {\n  return new (t || CartPageComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n};\nCartPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartPageComponent,\n  selectors: [[\"app-cart-page\"]],\n  decls: 16,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\", \"mt-8\"], [\"role\", \"document\", 1, \"modal-dialog\", 2, \"margin-top\", \"240px\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [\"data-bs-dismiss\", \"modal\", \"aria-bs-label\", \"btn-Close\", 1, \"btn-close\"], [1, \"modal-body\"], [1, \"text-center\", \"mt-3\"], [\"routerLink\", \"/cardpay\", \"data-bs-dismiss\", \"modal\", \"type\", \"button\", 1, \"btn\", \"btn-info\", 3, \"click\"], [\"routerLink\", \"/order-page\", \"data-bs-dismiss\", \"modal\", \"type\", \"button\", 1, \"btn\", \"btn-dark\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-sm-9\"], [1, \"table\", \"table-borderless\", \"mt-3\"], [1, \"thead-dark\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-sm-3\"], [2, \"font-size\", \"20px\", \"color\", \"green\"], [2, \"font-size\", \"25px\", \"color\", \"blue\", \"border\", \"2px solid black\"], [1, \"btn-group\", \"mt-3\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"class\", \"mt-3\", 4, \"ngIf\"], [2, \"width\", \"120px\", 3, \"src\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"mt-3\"], [3, \"formGroup\"], [1, \"form-group\"], [\"for\", \"exampleInputEmail1\"], [\"type\", \"email\", \"formControlName\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Enter email\", 1, \"form-control\"], [\"for\", \"exampleInputPassword1\"], [\"type\", \"text\", \"formControlName\", \"name\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Name\", 1, \"form-control\"], [\"type\", \"number\", \"formControlName\", \"mobile\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Mobile Number\", 1, \"form-control\"], [\"for\", \"exampleFormControlTextarea1\"], [\"id\", \"exampleFormControlTextarea1\", \"formControlName\", \"address\", \"placeholder\", \"Address\", \"rows\", \"3\", 1, \"form-control\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#exampleModal\", \"type\", \"submit\", 1, \"btn\", \"btn-success\", \"mt-2\", 3, \"disabled\", \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-dark\", \"mt-2\", 3, \"click\"], [1, \"card\"], [1, \"center\"], [\"src\", \"https://media.istockphoto.com/id/1266144552/vector/emoticon-with-sorry-sign.jpg?s=612x612&w=0&k=20&c=SxPesZy6zIYB2lbY3l8cQgpXaQdeBN_GcHrsOlsc4J8=\", 2, \"width\", \"250px\"], [\"routerLink\", \"/\", 1, \"btn\", \"btn-dark\"]],\n  template: function CartPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CartPageComponent_ng_container_0_Template, 39, 11, \"ng-container\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"strong\", 5);\n      i0.ɵɵtext(6, \"Mode of Payment\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"button\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8)(10, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CartPageComponent_Template_button_click_10_listener() {\n        return ctx.onlinepay();\n      });\n      i0.ɵɵtext(11, \"ONLINE PAY\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(12, \"\\u00A0 \");\n      i0.ɵɵelementStart(13, \"button\", 10);\n      i0.ɵɵtext(14, \"CASH\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵtemplate(15, CartPageComponent_ng_container_15_Template, 10, 0, \"ng-container\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.showproduct.length != 0);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngIf\", ctx.showproduct.length == 0);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i2.DecimalPipe],\n  styles: [\".card[_ngcontent-%COMP%]{\\r\\n    top: 53%;\\r\\n    left: 50%;\\r\\n    transform: translate(-50%,-50%);\\r\\n    text-align: center;\\r\\n    position: absolute;\\r\\n    padding: 100px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L2NhcnQtcGFnZS9jYXJ0LXBhZ2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFFBQVE7SUFDUixTQUFTO0lBQ1QsK0JBQStCO0lBQy9CLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsY0FBYztBQUNsQiIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJke1xyXG4gICAgdG9wOiA1MyU7XHJcbiAgICBsZWZ0OiA1MCU7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgcGFkZGluZzogMTAwcHg7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","i0","CartPageComponent","constructor","api","ngOnInit","products","subscribe","res","showproduct","totalamount","calculateprice","console","log","taxamount","finalamount","sentamount","sendfinalamount","myform","email","required","name","mobile","address","deleteitem","item","removecartitem","Empty","removeallitems","cancel","addressform","reset","localStorage","removeItem","onsubmit","value","setItem","JSON","stringify","onlinepay","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\adm\\Desktop\\DummyAPI-Ecommerce-main\\src\\app\\component\\cart-page\\cart-page.component.ts","C:\\Users\\adm\\Desktop\\DummyAPI-Ecommerce-main\\src\\app\\component\\cart-page\\cart-page.component.html"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/shared/api.service';\nimport { product } from '../product-view/productmodal';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n@Component({\n  selector: 'app-cart-page',\n  templateUrl: './cart-page.component.html',\n  styleUrls: ['./cart-page.component.css']\n})\nexport class CartPageComponent implements OnInit {\n  showproduct: any = [];\n  public totalamount: number = 0;\n  public taxamount: number = 0;\n  public finalamount: number = 0;\n  public addressform = false;\n  public sentamount: number = 0;\n  myform: FormGroup | any;\n  constructor(private api: ApiService) { }\n  ngOnInit(): void {\n    this.api.products().subscribe(res => {\n      this.showproduct = res;\n      this.totalamount = this.api.calculateprice();\n      console.log(\"total amt is\", this.totalamount)\n      // calculation with tax 15 percent\n      this.taxamount = this.totalamount / 100 * 15;\n      console.log(this.taxamount, \"is tax amount\")\n\n      this.finalamount = this.taxamount + this.totalamount;\n      //Sending final amount to order component \n      this.sentamount = this.finalamount\n      this.api.sendfinalamount(this.sentamount);\n    })\n    //form\n    this.myform = new FormGroup({\n      email: new FormControl('', Validators.required),\n      name: new FormControl('', Validators.required),\n      mobile: new FormControl('', Validators.required),\n      address: new FormControl('', Validators.required),\n    })\n  }\n  deleteitem(item: product) {\n    this.api.removecartitem(item)\n  }\n  Empty() {\n    this.api.removeallitems();\n  }\n  cancel() {\n    this.addressform = false;\n    this.myform.reset();\n    localStorage.removeItem('ecomdata')\n  }\n  onsubmit() {\n    this.myform.value;\n    console.log(this.myform.value)\n    localStorage.setItem('ecomdata', JSON.stringify(this.myform.value.name));\n    //this.myform.reset();\n  }\n  onlinepay(){\n    localStorage.setItem('ecomdata', JSON.stringify(this.myform.value.name));\n  }\n}\n","<ng-container *ngIf=\"showproduct.length !=0\">\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col-sm-9\">\n    <h3>Cart Items</h3>\n        <table class=\"table table-borderless mt-3\">\n            <thead class=\"thead-dark\">\n              <tr >\n                <th scope=\"col\">Image </th>\n                <th scope=\"col\">Brand</th>\n                <th scope=\"col\">Category</th>\n                <th scope=\"col\">Price</th>\n                <th scope=\"col\">Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let item of showproduct\">\n                <td><img style=\"width: 120px;\" src=\"{{item.images[0]}}\">  </td>\n                <td>{{item.title}}</td>\n                <td>{{item.category}}</td>\n                <td>${{item.price}}</td>\n                <td><button (click)=\"deleteitem(item)\" class=\"btn btn-danger\">Delete</button>  </td>\n              </tr>\n             \n            </tbody>\n          </table>\n         </div>\n         <!-- total section-->\n         <div  class=\"col-sm-3\">\n          <h1>Total Amount:</h1><br>\n          <strong style=\"font-size:20px;color: green;\">${{totalamount}} + ${{taxamount| number: '1.0-0'}}(Tax)</strong><br>\n          <strong  style=\"font-size:25px;color:blue;border: 2px solid black;\">Total = ${{this.finalamount| number: '1.0-0'}}</strong>\n          <div class=\"btn-group mt-3\">\n             <button  (click)=\"this.addressform=true\" class=\"btn btn-primary\">Checkout</button>&nbsp;\n             <button (click)=\"Empty()\" class=\"btn btn-secondary\">Empty cart</button>\n          </div>\n          <!--- form-->\n          <div class=\"mt-3\" *ngIf=\"addressform\">\n          <form [formGroup]=\"myform\">\n            <div class=\"form-group\">\n              <label for=\"exampleInputEmail1\">Email address</label>\n              <input type=\"email\" class=\"form-control\"formControlName=\"email\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\">\n             \n            </div>\n            <div class=\"form-group\">\n              <label for=\"exampleInputPassword1\">Name</label>\n              <input type=\"text\" class=\"form-control\"formControlName=\"name\" id=\"exampleInputPassword1\" placeholder=\"Name\">\n            </div>\n            <div class=\"form-group\">\n              <label for=\"exampleInputPassword1\">Mobile Number</label>\n              <input type=\"number\" class=\"form-control\"formControlName=\"mobile\" id=\"exampleInputPassword1\" placeholder=\"Mobile Number\">\n            </div>\n            <div class=\"form-group\">\n              <label for=\"exampleFormControlTextarea1\">Address</label>\n              <textarea class=\"form-control\" id=\"exampleFormControlTextarea1\"formControlName=\"address\"placeholder=\"Address\" rows=\"3\"></textarea>\n            </div>\n            <button  data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\"  type=\"submit\"(click)=\"onsubmit()\"[disabled]=\"this.myform.invalid\" class=\"btn btn-success mt-2\">Order</button>&nbsp;\n            <button type=\"submit\"(click)=\"cancel()\" class=\"btn btn-dark mt-2\">Cancel</button>\n          </form>\n         </div>\n        </div>\n         <!--form ends-->\n        </div>\n      </div>\n</ng-container>\n\n<!-- modal-->\n<!-- Modal -->\n<div class=\"modal fade mt-8\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div style=\"margin-top: 240px;\" class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <strong class=\"modal-title \" id=\"exampleModalLabel\">Mode of Payment</strong>\n        <button class=\"btn-close\" data-bs-dismiss=\"modal\" aria-bs-label=\"btn-Close\">\n         \n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"text-center mt-3\">\n          <button (click)=\"onlinepay()\" routerLink=\"/cardpay\"  data-bs-dismiss=\"modal\"type=\"button\" class=\"btn btn-info\">ONLINE PAY</button>&nbsp;\n          <button routerLink=\"/order-page\"  data-bs-dismiss=\"modal\"type=\"button\" class=\"btn  btn-dark\">CASH</button>\n        </div>\n      </div>\n      \n    </div>\n  </div>\n</div>\n<!--Empty cart-->\n\n<ng-container *ngIf=\"showproduct.length ==0\">\n    <div class=\"card\">\n        <div class=\"center\">\n          <img style=\"width: 250px;\" src=\"https://media.istockphoto.com/id/1266144552/vector/emoticon-with-sorry-sign.jpg?s=612x612&w=0&k=20&c=SxPesZy6zIYB2lbY3l8cQgpXaQdeBN_GcHrsOlsc4J8=\">\n            <h4>Your Cart is Empty</h4>\n            <h6>Please Add Item</h6>\n            <button routerLink=\"/\" class=\"btn btn-dark\">Shop Now </button>\n        </div>\n    </div>\n</ng-container>\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}